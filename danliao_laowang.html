<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8" />
	<title>æ˜¯è€ç‹å‘€-èŠå¤©</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-touch-fullscreen" content="yes">
	<meta http-equiv="Access-Control-Allow-Origin" content="*">
	<link rel="stylesheet" href="css/reset.css" />
	<link rel="stylesheet" href="css/animate.css" />
	<link rel="stylesheet" href="css/swiper-3.4.1.min.css" />
	<link rel="stylesheet" href="css/layout.css" />
	<link rel="stylesheet" href="css/weui.css" />
	<!-- æ£®ç¦…è‡ªå®šä¹‰ æ”¹è¿›è‡³æ–°ç‰ˆå¾®ä¿¡-->
	<link rel="stylesheet" href="css/wx-new-style.css" />
	
	<script src="js/jquery-1.9.1.min.js"></script>
	<script src="js/zepto.min.js"></script>
	<script src="js/fontSize.js"></script>
	<script src="js/swiper-3.4.1.min.js"></script>
	<script src="js/wcPop/wcPop.js"></script>
	<script src="js/weui.min.js"></script>
</head>
<body>
	
	<!-- <>å¾®èŠä¸»å®¹å™¨ -->
	<div class="wechat__panel clearfix">
		<div class="wc__chat-wrapper flexbox flex__direction-column">
			<!-- //é¡¶éƒ¨ -->
			<div class="wc__headerBar fixed">
				<div class="inner flexbox">
					<a class="back splitline" href="javascript:;" onClick="history.back(-1);"></a>
					<h2 class="barTit flex1">æ˜¯è€ç‹å‘€</h2>
					<a class="barIco u-one" href="javascript:;"></a>
				</div>
			</div>
			<!-- //å¾®èŠæ¶ˆæ¯ä¸Šå¢™é¢æ¿ -->
			<div class="wc__chatMsg-panel flex1">
				<div class="chatMsg-cnt">
					<ul class="clearfix" id="J__chatMsgList">

						<li class="time"><span>12æœˆ1æ—¥ 19:40</span></li>

						<li class="others">
							<a class="avatar" href="haoyouzhuye.html" style="background-color:white;"><span style="color: black;">ğŸ·</span></a>
							<div class="content">
								<div class="msg">
									ç»™ä½ è®²ä¸ªé¬¼æ•…äº‹
								</div>
							</div>
						</li>

						<li class="others">
							<a class="avatar" href="haoyouzhuye.html" style="background-color:white;"><span style="color: black;">ğŸ·</span></a>
							<div class="content">
								<div class="msg">
									æˆ‘ä»¥å‰ä¸€ä¸ªæœ‹å‹è¯´ä»–å°æ—¶å€™ç»å¸¸çœ‹åˆ°ä¸¤ä¸ªå°å­©åœ¨ä»–å®¶ç©ºè°ƒä¸Šï¼Œå°±å’Œçˆ¶æ¯è¯´äº†è¿™äº‹ï¼ŒæŠŠä»–å®¶é‡Œäººå“å¾—å¤Ÿå‘›ï¼Œè¯·æ¥æ³•å¸ˆåˆè¯·æ¥åŠä»™ä¸€é˜µå¿™æ´»ï¼Œå¯çˆ¶æ¯å†é—®å­©å­ï¼Œä»–è¿˜æ˜¯èƒ½çœ‹è§é‚£ä¿©å°å­©ã€‚ å› ä¸ºè¿™äº‹ä»–ä»¬å®¶æŠŠæˆ¿å­å–äº†ï¼Œæ¬åˆ°äº†å¦ä¸€ä¸ªåŸå¸‚ï¼Œè¿å®¶å…·å®¶ç”µéƒ½ä¸è¦äº†ã€‚ç­‰ä»–é•¿å¤§åæ‰çŸ¥é“é‚£ä¿©å°å­©æ˜¯æµ·å°”å…„å¼ŸğŸ‘¬
								</div>
							</div>
						</li>

						<li class="me">
							<div class="content">
								<div class="msg lgface">
									<img class="lg-face" src="img/emotion/face05/3.gif">
								</div>
							</div>
							<a class="avatar" href="haoyouzhuye.html"><img src="img/placeholder/ysdwl.jpg" /></a>
						</li>

						

					</ul>
				</div>
			</div>
	
			<!-- //å¾®èŠåº•éƒ¨åŠŸèƒ½é¢æ¿ -->
			<div class="wc__footTool-panel">
				<!-- è¾“å…¥æ¡†æ¨¡å— -->
				<div class="wc__editor-panel wc__borT flexbox">
					<i class="btn btn-voice"></i>
					<div class="wrap-editor flex1"><div class="editor J__wcEditor" contenteditable="true" style="-webkit-user-select:auto;"></div></div>
					<i class="btn btn-emotion"></i>
					<i class="btn btn-choose"></i>
					<button class="btn-submit J__wchatSubmit">å‘é€</button>
				</div>

				<!-- è¡¨æƒ…ã€é€‰æ‹©æ¨¡å— -->
				<div class="wc__choose-panel wc__borT" style="display: none;">
					<!-- è¡¨æƒ…åŒºåŸŸ -->
					<div class="wrap-emotion" style="display: none;">
						<div class="emotion__cells flexbox flex__direction-column">
							<div class="emotion__cells-swiper flex1" id="J__swiperEmotion">
								<div class="swiper-container">
									<div class="swiper-wrapper"></div>
									<div class="pagination-emotion"></div>
								</div>
							</div>
							<div class="emotion__cells-footer" id="J__emotionFootTab">
								<ul class="clearfix">
									<li class="swiperTmpl cur" tmpl="swiper__tmpl-emotion01"><img src="img/emotion/face01/face-lbl.png" alt=""></li>
									<li class="swiperTmpl" tmpl="swiper__tmpl-emotion02"><img src="img/emotion/face02/face-lbl.gif" alt=""></li>
									<li class="swiperTmpl" tmpl="swiper__tmpl-emotion03"><img src="img/emotion/face03/face-lbl.gif" alt=""></li>
									<li class="swiperTmpl" tmpl="swiper__tmpl-emotion04"><img src="img/emotion/face04/face-lbl.gif" alt=""></li>
									<li class="swiperTmpl" tmpl="swiper__tmpl-emotion05"><img src="img/emotion/face05/face-lbl.gif" alt=""></li>
									<li class="swiperTmpl" tmpl="swiper__tmpl-emotion06"><img src="img/emotion/face06/face-lbl.gif" alt=""></li>
									<li class="swiperTmplSet"><img src="img/wchat/icon__emotion-set.png" alt=""></li>
								</ul>
							</div>
						</div>
					</div>
					<!-- é€‰æ‹©åŒºåŸŸ -->
					<div class="wrap-choose" style="display: none;">
						<div class="choose__cells">
							<ul class="clearfix">
								<li><a class="J__wchatZp" href="javascript:;"><span class="img"><img src="img/wchat/icon__choose-zp.png" /><input type="file" accept="image/*" /></span><em>ç…§ç‰‡</em></a></li>
								<li><a class="J__wchatSp" href="javascript:;"><span class="img"><img src="img/wchat/icon__choose-sp.png" /><input type="file" accept="video/*" /></span><em>è§†é¢‘</em></a></li>
								<li><a class="J__wchatHb" href="javascript:;"><span class="img"><img src="img/wchat/icon__choose-hb.png" /></span><em>çº¢åŒ…</em></a></li>
								<li><a class="J__wchatSc" href="javascript:;"><span class="img"><img src="img/wchat/icon__choose-sc.png" /></span><em>æˆ‘çš„æ”¶è—</em></a></li>
								<li><a class="J__wchatWj" href="javascript:;"><span class="img"><img src="img/wchat/icon__choose-wj.png" /></span><em>æ–‡ä»¶</em></a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- â€¦â€¦ å›¾ç‰‡é¢„è§ˆå¼¹çª—.Start -->
	<div class="wc__popup-imgPreview" style="display: none;">
		<div class="swiper-container J__swiperImgPreview">
			<div class="swiper-wrapper"></div>
			<!-- <div class="swiper-pagination pagination-imgPreview"></div> -->
		</div>
	</div>
	<script type="text/javascript">
		var curIndex = 0, imgPreviewSwiper;
		$("#J__chatMsgList li").on("click", ".picture", function(){
			var html = "",  _src = $(this).find("img").attr("src");

			$("#J__chatMsgList li .picture").each(function(i, item){
				html += '<div class="swiper-slide"><div class="swiper-zoom-container">'+ $(this).html() +'</div></div>';
				if($(this).find("img").attr("src") == _src){
					curIndex = i;
				}
			});
			$(".J__swiperImgPreview .swiper-wrapper").html(html);
			$(".wc__popup-imgPreview").show();

			imgPreviewSwiper = new Swiper('.J__swiperImgPreview',{
				pagination: false,
				paginationClickable: true,
				zoom: true,
				observer: true,
				observeParents: true,
				initialSlide: curIndex
			});
		});
		// å…³é—­é¢„è§ˆ
		$(".wc__popup-imgPreview").on("click", function(e){
			var that = $(this);
			imgPreviewSwiper.destroy(true, true);
			$(".J__swiperImgPreview .swiper-wrapper").html('');
			that.hide();
		});
	</script>
	<!-- â€¦â€¦ å›¾ç‰‡é¢„è§ˆå¼¹çª—.End -->

	<!-- â€¦â€¦ è§†é¢‘é¢„è§ˆå¼¹çª—.Start -->
	<div class="wc__popup-videoPreview" style="display: none;">
		<i class="wc__videoClose"></i>
		<video id="J__videoPreview" width="100%" height="100%" controls="controls" x5-video-player-type="h5" x5-video-player-fullscreen="true" webkit-playsinline preload="auto"></video>
	</div>
	<script type="text/javascript">
		var video = document.getElementById("J__videoPreview");
		$("#J__chatMsgList li").on("click", ".video", function(){
			video.src = $(this).find("img").attr("videoUrl");
			$(".wc__popup-videoPreview").show();
			if(video.paused){
				video.play();
			}else{
				video.pause();
			}
		});
		video.addEventListener("ended", function(){
			video.currentTime = 0;
		}, false);
		// å…³é—­é¢„è§ˆ
		$(".wc__popup-videoPreview").on("click", ".wc__videoClose", function(){
			$(".wc__popup-videoPreview").hide();
			video.currentTime = 0;
			video.pause();
		});

		// è¿›å…¥å…¨å±ã€é€€å‡ºå…¨å±
		video.addEventListener("x5videoenterfullscreen", function(){
			console.log("è¿›å…¥å…¨å±");
		}, false);
		video.addEventListener("x5videoexitfullscreen", function(){
			$(".wc__popup-videoPreview .wc__videoClose").trigger("click");
		}, false)
	</script>
	<!-- â€¦â€¦ è§†é¢‘é¢„è§ˆå¼¹çª—.End -->

	<!-- â€¦â€¦ è¡¨æƒ…æ¨¡æ¿.Start -->
	<!-- //è¡¨æƒ… -->
	<div class="swiper__tmpl-emotion01" style="display: none;">
		<div class="swiper-slide">
			<div class="face-list face__sm-list">
				<span><img class="face" src="img/emotion/face01/0.png" /></span>
				<span><img class="face" src="img/emotion/face01/1.png" /></span>
				<span><img class="face" src="img/emotion/face01/2.png" /></span>
				<span><img class="face" src="img/emotion/face01/3.png" /></span>
				<span><img class="face" src="img/emotion/face01/4.png" /></span>
				<span><img class="face" src="img/emotion/face01/5.png" /></span>
				<span><img class="face" src="img/emotion/face01/6.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/7.png" /></span>
				<span><img class="face" src="img/emotion/face01/8.png" /></span>
				<span><img class="face" src="img/emotion/face01/9.png" /></span>
				<span><img class="face" src="img/emotion/face01/10.png" /></span>
				<span><img class="face" src="img/emotion/face01/11.png" /></span>
				<span><img class="face" src="img/emotion/face01/12.png" /></span>
				<span><img class="face" src="img/emotion/face01/13.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/14.png" /></span>
				<span><img class="face" src="img/emotion/face01/15.png" /></span>
				<span><img class="face" src="img/emotion/face01/16.png" /></span>
				<span><img class="face" src="img/emotion/face01/17.png" /></span>
				<span><img class="face" src="img/emotion/face01/18.png" /></span>
				<span><img class="face" src="img/emotion/face01/19.png" /></span>
				<span><img class="del" src="img/wchat/icon__emotion-del.png" /></span>
			</div>
		</div>
		<div class="swiper-slide">
			<div class="face-list face__sm-list">
				<span><img class="face" src="img/emotion/face01/20.png" /></span>
				<span><img class="face" src="img/emotion/face01/21.png" /></span>
				<span><img class="face" src="img/emotion/face01/22.png" /></span>
				<span><img class="face" src="img/emotion/face01/23.png" /></span>
				<span><img class="face" src="img/emotion/face01/24.png" /></span>
				<span><img class="face" src="img/emotion/face01/25.png" /></span>
				<span><img class="face" src="img/emotion/face01/26.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/27.png" /></span>
				<span><img class="face" src="img/emotion/face01/28.png" /></span>
				<span><img class="face" src="img/emotion/face01/29.png" /></span>
				<span><img class="face" src="img/emotion/face01/30.png" /></span>
				<span><img class="face" src="img/emotion/face01/31.png" /></span>
				<span><img class="face" src="img/emotion/face01/32.png" /></span>
				<span><img class="face" src="img/emotion/face01/33.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/34.png" /></span>
				<span><img class="face" src="img/emotion/face01/35.png" /></span>
				<span><img class="face" src="img/emotion/face01/36.png" /></span>
				<span><img class="face" src="img/emotion/face01/37.png" /></span>
				<span><img class="face" src="img/emotion/face01/38.png" /></span>
				<span><img class="face" src="img/emotion/face01/39.png" /></span>
				<span><img class="del" src="img/wchat/icon__emotion-del.png" /></span>
			</div>
		</div>
		<div class="swiper-slide">
			<div class="face-list face__sm-list">
				<span><img class="face" src="img/emotion/face01/40.png" /></span>
				<span><img class="face" src="img/emotion/face01/41.png" /></span>
				<span><img class="face" src="img/emotion/face01/42.png" /></span>
				<span><img class="face" src="img/emotion/face01/43.png" /></span>
				<span><img class="face" src="img/emotion/face01/44.png" /></span>
				<span><img class="face" src="img/emotion/face01/45.png" /></span>
				<span><img class="face" src="img/emotion/face01/46.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/47.png" /></span>
				<span><img class="face" src="img/emotion/face01/48.png" /></span>
				<span><img class="face" src="img/emotion/face01/49.png" /></span>
				<span><img class="face" src="img/emotion/face01/50.png" /></span>
				<span><img class="face" src="img/emotion/face01/51.png" /></span>
				<span><img class="face" src="img/emotion/face01/52.png" /></span>
				<span><img class="face" src="img/emotion/face01/53.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/54.png" /></span>
				<span><img class="face" src="img/emotion/face01/55.png" /></span>
				<span><img class="face" src="img/emotion/face01/56.png" /></span>
				<span><img class="face" src="img/emotion/face01/57.png" /></span>
				<span><img class="face" src="img/emotion/face01/58.png" /></span>
				<span><img class="face" src="img/emotion/face01/59.png" /></span>
				<span><img class="del" src="img/wchat/icon__emotion-del.png" /></span>
			</div>
		</div>
		<div class="swiper-slide">
			<div class="face-list face__sm-list">
				<span><img class="face" src="img/emotion/face01/60.png" /></span>
				<span><img class="face" src="img/emotion/face01/61.png" /></span>
				<span><img class="face" src="img/emotion/face01/62.png" /></span>
				<span><img class="face" src="img/emotion/face01/63.png" /></span>
				<span><img class="face" src="img/emotion/face01/64.png" /></span>
				<span><img class="face" src="img/emotion/face01/65.png" /></span>
				<span><img class="face" src="img/emotion/face01/66.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/67.png" /></span>
				<span><img class="face" src="img/emotion/face01/68.png" /></span>
				<span><img class="face" src="img/emotion/face01/69.png" /></span>
				<span><img class="face" src="img/emotion/face01/70.png" /></span>
				<span><img class="face" src="img/emotion/face01/71.png" /></span>
				<span><img class="face" src="img/emotion/face01/72.png" /></span>
				<span><img class="face" src="img/emotion/face01/73.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/74.png" /></span>
				<span><img class="face" src="img/emotion/face01/75.png" /></span>
				<span><img class="face" src="img/emotion/face01/76.png" /></span>
				<span><img class="face" src="img/emotion/face01/77.png" /></span>
				<span><img class="face" src="img/emotion/face01/78.png" /></span>
				<span><img class="face" src="img/emotion/face01/79.png" /></span>
				<span><img class="del" src="img/wchat/icon__emotion-del.png" /></span>
			</div>
		</div>
		<div class="swiper-slide">
			<div class="face-list face__sm-list">
				<span><img class="face" src="img/emotion/face01/80.png" /></span>
				<span><img class="face" src="img/emotion/face01/81.png" /></span>
				<span><img class="face" src="img/emotion/face01/82.png" /></span>
				<span><img class="face" src="img/emotion/face01/83.png" /></span>
				<span><img class="face" src="img/emotion/face01/84.png" /></span>
				<span><img class="face" src="img/emotion/face01/85.png" /></span>
				<span><img class="face" src="img/emotion/face01/86.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/87.png" /></span>
				<span><img class="face" src="img/emotion/face01/88.png" /></span>
				<span><img class="face" src="img/emotion/face01/89.png" /></span>
				<span><img class="face" src="img/emotion/face01/90.png" /></span>
				<span><img class="face" src="img/emotion/face01/91.png" /></span>
				<span><img class="face" src="img/emotion/face01/92.png" /></span>
				<span><img class="face" src="img/emotion/face01/93.png" /></span>
				
				<span><img class="face" src="img/emotion/face01/94.png" /></span>
				<span><img class="face" src="img/emotion/face01/95.png" /></span>
				<span><img class="face" src="img/emotion/face01/96.png" /></span>
				<span><img class="face" src="img/emotion/face01/97.png" /></span>
				<span><img class="face" src="img/emotion/face01/98.png" /></span>
				<span><img class="face" src="img/emotion/face01/99.png" /></span>
				<span><img class="del" src="img/wchat/icon__emotion-del.png" /></span>
			</div>
		</div>
	</div>
	<!-- //åŠ¨å›¾1 -->
	<div class="swiper__tmpl-emotion02" style="display: none;">
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face02/0.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/1.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/2.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/3.gif" /></span>

				<span><img class="lg-face" src="img/emotion/face02/4.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/5.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/6.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/7.gif" /></span>
			</div>
		</div>
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face02/8.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/9.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/10.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/11.gif" /></span>
				
				<span><img class="lg-face" src="img/emotion/face02/12.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/13.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/14.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face02/15.gif" /></span>
			</div>
		</div>
	</div>
	<!-- //åŠ¨å›¾2 -->
	<div class="swiper__tmpl-emotion03" style="display: none;">
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face03/0.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/1.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/2.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/3.gif" /></span>

				<span><img class="lg-face" src="img/emotion/face03/4.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/5.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/6.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/7.gif" /></span>
			</div>
		</div>
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face03/8.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/9.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/10.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/11.gif" /></span>
				
				<span><img class="lg-face" src="img/emotion/face03/12.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/13.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/14.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face03/15.gif" /></span>
			</div>
		</div>
	</div>
	<!-- //åŠ¨å›¾3 -->
	<div class="swiper__tmpl-emotion04" style="display: none;">
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face04/0.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/1.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/2.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/3.gif" /></span>

				<span><img class="lg-face" src="img/emotion/face04/4.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/5.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/6.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/7.gif" /></span>
			</div>
		</div>
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face04/8.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/9.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/10.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/11.gif" /></span>
				
				<span><img class="lg-face" src="img/emotion/face04/12.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/13.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/14.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face04/15.gif" /></span>
			</div>
		</div>
	</div>
	<!-- //åŠ¨å›¾4 -->
	<div class="swiper__tmpl-emotion05" style="display: none;">
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face05/0.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/1.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/2.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/3.gif" /></span>

				<span><img class="lg-face" src="img/emotion/face05/4.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/5.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/6.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/7.gif" /></span>
			</div>
		</div>
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face05/8.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/9.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/10.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/11.gif" /></span>
				
				<span><img class="lg-face" src="img/emotion/face05/12.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/13.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/14.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face05/15.gif" /></span>
			</div>
		</div>
	</div>
	<!-- //åŠ¨å›¾4 -->
	<div class="swiper__tmpl-emotion06" style="display: none;">
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face06/0.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/1.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/2.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/3.gif" /></span>

				<span><img class="lg-face" src="img/emotion/face06/4.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/5.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/6.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/7.gif" /></span>
			</div>
		</div>
		<div class="swiper-slide">
			<div class="face-list face__lg-list">
				<span><img class="lg-face" src="img/emotion/face06/8.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/9.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/10.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/11.gif" /></span>
				
				<span><img class="lg-face" src="img/emotion/face06/12.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/13.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/14.gif" /></span>
				<span><img class="lg-face" src="img/emotion/face06/15.gif" /></span>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		var emotionSwiper;
		function setEmotionSwiper(tmpl){
			var _tmpl = tmpl ? tmpl : $("#J__emotionFootTab ul li.cur").attr("tmpl");
			$("#J__swiperEmotion .swiper-container").attr("id", _tmpl);
			$("#J__swiperEmotion .swiper-wrapper").html($("." + _tmpl).html());

			emotionSwiper = new Swiper('#' + _tmpl, {
				pagination: '.pagination-emotion',
				paginationClickable: true
			});
		}
		// ç‚¹å‡»åˆ‡æ¢è¡¨æƒ…
		$("#J__emotionFootTab").on("click", "ul li.swiperTmpl", function(){
			// å…ˆé”€æ¯swiper
			emotionSwiper && emotionSwiper.destroy(true, true);
			var _tmpl = $(this).attr("tmpl");
			$(this).addClass("cur").siblings().removeClass("cur");

			setEmotionSwiper(_tmpl);
		});
	</script>
	<!-- â€¦â€¦ è¡¨æƒ…æ¨¡æ¿.End -->

	<!-- â€¦â€¦ çº¢åŒ…å¼¹çª—æ¨¡æ¿.Start -->
	<div class="wc__choosePanel-tmpl">
		<!-- //çº¢åŒ…æ¨¡æ¿.begin -->
		<div id="J__popupTmpl-Hongbao" style="display:none;">
			<div class="wc__popupTmpl tmpl-hongbao">
				<i class="wc-xclose"></i>
				<ul class="clearfix">
					<li class="item flexbox">
						<label class="txt">æ€»é‡‘é¢</label><input class="ipt-txt flex1" type="tel" name="hbAmount" placeholder="0.00" /><em class="unit">å…ƒ</em>
					</li>
					<li class="item flexbox">
						<label class="txt">çº¢åŒ…ä¸ªæ•°</label><input class="ipt-txt flex1" type="tel" name="hbNum" placeholder="å¡«å†™ä¸ªæ•°" /><em class="unit">ä¸ª</em>
					</li>
					<li class="tips">åœ¨çº¿äººæ•°å…±<em class="memNum">186</em>äºº</li>
					<li class="item item-area">
						<textarea class="describe" name="content" placeholder="æ­å–œå‘è´¢ï¼Œå¤§å‰å¤§åˆ©"></textarea>
					</li>
					<li class="amountTotal">ï¿¥<em class="num">0.00</em></li>
				</ul>
			</div>
		</div>
		<!-- //çº¢åŒ…æ¨¡æ¿.end -->
	</div>
	<script type="text/javascript">
		/* ...çº¢åŒ…äº‹ä»¶.start */
		$(".J__wchatHb").on("click", function(){
			var bpidx = wcPop({
				skin: 'ios',
				content: $("#J__popupTmpl-Hongbao").html(),
				style: 'background-color: #f3f3f3; max-width: 320px; width: 90%;',
				shadeClose: false,

				btns: [
					{
						text: 'å¡é’±è¿›çº¢åŒ…',
						style: 'background:#ffba00;color:#fff;font-size:18px;',
						onTap() {
							alert("å¡é’±æˆåŠŸï¼");
							wcPop.close(bpidx);
						}
					}
				]
			});
		});
		/* ...çº¢åŒ…äº‹ä»¶.end */

		// ...å…³é—­
		$("body").on("click", ".wc__popupTmpl .wc-xclose", function(){
			wcPop.close();
		});
	</script>
	<!-- â€¦â€¦ çº¢åŒ…å¼¹çª—æ¨¡æ¿.End -->

	
	<script type="text/javascript">
		/** __å…¬å…±å‡½æ•° */
		$(function(){
			// ç¦æ­¢é•¿æŒ‰å¼¹å‡ºç³»ç»Ÿèœå•
			$(".wechat__panel").on("contextmenu", function(e){
				e.preventDefault();
			});
		});
		
		/** __è‡ªå®šå‡½æ•° */
		$(function(){
			// ...æ»šåŠ¨èŠå¤©åŒºåº•éƒ¨
			function wchat_ToBottom(){
				$(".wc__chatMsg-panel").animate({scrollTop: $("#J__chatMsgList").height()}, 0);
			}

			// ...ç‚¹å‡»èŠå¤©é¢æ¿åŒºåŸŸ
			$(document).on("click", ".wc__chatMsg-panel", function(e){
				var _tapMenu = $(".wc__chatTapMenu");
				if(_tapMenu.length && e.target != _tapMenu && !$.contains(_tapMenu[0], e.target)){
					// å…³é—­é•¿æŒ‰èœå•
					_tapMenu.hide();
					$(".wc__chatMsg-panel").find("li .msg").removeClass("taped");
				}
				$(".wc__choose-panel").hide();
			});

			// ...è¡¨æƒ…ã€é€‰æ‹©åŒºåˆ‡æ¢
			$(".wc__editor-panel").on("click", ".btn", function(){
				var that = $(this);
				$(".wc__choose-panel").show();
				if (that.hasClass("btn-emotion")) {
					$(".wc__choose-panel .wrap-emotion").show();
					$(".wc__choose-panel .wrap-choose").hide();
					// åˆå§‹åŒ–swiperè¡¨æƒ…
					!emotionSwiper && $("#J__emotionFootTab ul li.cur").trigger("click");
				} else if (that.hasClass("btn-choose")) {
					$(".wc__choose-panel .wrap-emotion").hide();
					$(".wc__choose-panel .wrap-choose").show();
				}
				wchat_ToBottom();
			});

			// ...å¤„ç†ç¼–è¾‘å™¨ä¿¡æ¯
			var $editor = $(".J__wcEditor"), _editor = $editor[0];
			function surrounds(){
				setTimeout(function () { //chrome
					var sel = window.getSelection();
					var anchorNode = sel.anchorNode;
					if (!anchorNode) return;
					if (sel.anchorNode === _editor ||
						(sel.anchorNode.nodeType === 3 && sel.anchorNode.parentNode === _editor)) {
						
						var range = sel.getRangeAt(0);
						var p = document.createElement("p");
						range.surroundContents(p);
						range.selectNodeContents(p);
						range.insertNode(document.createElement("br")); //chrome
						sel.collapse(p, 0);
						
						(function clearBr() {
							var elems = [].slice.call(_editor.children);
							for (var i = 0, len = elems.length; i < len; i++) {
								var el = elems[i];
								if (el.tagName.toLowerCase() == "br") {
									_editor.removeChild(el);
								}
							}
							elems.length = 0;
						})();
					}
				}, 10);
			}
			// æ ¼å¼åŒ–ç¼–è¾‘å™¨åŒ…å«æ ‡ç­¾
			_editor.addEventListener("click", function () {
				$(".wc__choose-panel").hide();
			}, true);
			_editor.addEventListener("focus", function(){
				surrounds();
			}, true);
			_editor.addEventListener("input", function(){
				surrounds();
			}, false);
			// ç‚¹å‡»è¡¨æƒ…
			$("#J__swiperEmotion").on("click", ".face-list span img", function(){
				var that = $(this), range;

				if(that.hasClass("face")){ //å°è¡¨æƒ…
					var img = that[0].cloneNode(true);
					_editor.focus();
					_editor.blur(); //è¾“å…¥è¡¨æƒ…æ—¶ç¦æ­¢è¾“å…¥æ³•

					setTimeout(function(){
						if(document.selection && document.selection.createRange){
							document.selection.createRange().pasteHTML(img);
						}else if(window.getSelection && window.getSelection().getRangeAt){
							range = window.getSelection().getRangeAt(0);
							range.insertNode(img);
							range.collapse(false);

							var sel = window.getSelection();
							sel.removeAllRanges();
							sel.addRange(range);
						}
					}, 10);
				}else if(that.hasClass("del")){ //åˆ é™¤
					_editor.focus();
					_editor.blur(); //è¾“å…¥è¡¨æƒ…æ—¶ç¦æ­¢è¾“å…¥æ³•

					setTimeout(function(){
						range = window.getSelection().getRangeAt(0);
						range.collapse(false);

						var sel = window.getSelection();
						sel.removeAllRanges();
						sel.addRange(range);
						document.execCommand("delete");
					}, 10);
				} else if(that.hasClass("lg-face")){ //å¤§è¡¨æƒ…
					var _img = that.parent().html();
					var _tpl = [
						'<li class="me">\
							<div class="content">\
								<div class="msg lgface">'+ _img + '</div>\
							</div>\
							<a class="avatar" href="å¾®èŠ(å¥½å‹ä¸»é¡µ).html"><img src="img/uimg/u__chat-img14.jpg" /></a>\
						</li>'
					].join("");
					$chatMsgList.append(_tpl);

					wchat_ToBottom();
				}
			});
			// å‘é€ä¿¡æ¯
			var $chatMsgList = $("#J__chatMsgList");
			function isEmpty(){
				var html = $editor.html();
				html = html.replace(/<br[\s\/]{0,2}>/ig, "\r\n");
				html = html.replace(/<[^img].*?>/ig, "");
				html = html.replace(/&nbsp;/ig, "");
				return html.replace(/\r\n|\n|\r/, "").replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g, "") == "";
			}
			$(".J__wchatSubmit").on("click", function(){
				// åˆ¤æ–­å†…å®¹æ˜¯å¦ä¸ºç©º
				if(isEmpty()) return;

				var html = $editor.html();
				var reg = /(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g;
				html = html.replace(reg, "<a href='$1$2'>$1$2</a>");
				var msgTpl = [
					'<li class="me">\
						<div class="content">\
							<div class="msg">'+ html +'</div>\
						</div>\
						<a class="avatar" href="å¾®èŠ(å¥½å‹ä¸»é¡µ).html"><img src="img/uimg/u__chat-img14.jpg" /></a>\
					</li>'
				].join("");
				$chatMsgList.append(msgTpl);

				// æ¸…ç©ºèŠå¤©æ¡†å¹¶è·å–ç„¦ç‚¹ï¼ˆå¤„ç†è¾“å…¥æ³•å’Œè¡¨æƒ… - èšç„¦ï¼‰
				if(!$(".wc__choose-panel").is(":hidden")){
					$editor.html("");
				}else{
					$editor.html("").focus().trigger("click");
				}
				wchat_ToBottom();
			});

			// ...é•¿æŒ‰å¼¹å‡ºèœå•
			$("#J__chatMsgList").on("longTap", "li .msg", function(e){
				var that = $(this), menuTpl, menuNode = $("<div class='wc__chatTapMenu animated anim-fadeIn'></div>");
				that.addClass("taped");
				that.parents("li").siblings().find(".msg").removeClass("taped");
				var isRevoke = that.parents("li").hasClass("me");
				var _revoke = isRevoke ? "<a href='#'><i class='ico i4'></i>æ’¤å›</a>" : "";
				
				if(that.hasClass("picture")){
					console.log("å›¾ç‰‡é•¿æŒ‰");
					menuTpl = "<div class='menu menu-picture'><a href='#'><i class='ico i1'></i>å¤åˆ¶</a><a href='#'><i class='ico i2'></i>æ”¶è—</a><a href='#'><i class='ico i3'></i>å¦å­˜ä¸º</a>"+ _revoke +"<a href='#'><i class='ico i5'></i>åˆ é™¤</a></div>";
				}else if(that.hasClass("video")){
					console.log("è§†é¢‘é•¿æŒ‰");
					menuTpl = "<div class='menu menu-video'><a href='#'><i class='ico i3'></i>å¦å­˜ä¸º</a>" + _revoke +"<a href='#'><i class='ico i5'></i>åˆ é™¤</a></div>";
				}else{
					console.log("æ–‡å­—é•¿æŒ‰");
					menuTpl = "<div class='menu menu-text'><a href='#'><i class='ico i1'></i>å¤åˆ¶</a><a href='#'><i class='ico i2'></i>æ”¶è—</a>" + _revoke +"<a href='#'><i class='ico i5'></i>åˆ é™¤</a></div>";
				}

				if(!$(".wc__chatTapMenu").length){
					$(".wc__chatMsg-panel").append(menuNode.html(menuTpl));
					autoPos();
				}else{
					$(".wc__chatTapMenu").hide().html(menuTpl).fadeIn(250);
					autoPos();
				}

				function autoPos(){
					console.log(that.position().top)
					var _other = that.parents("li").hasClass("others");
					$(".wc__chatTapMenu").css({
						position: "absolute",
						left: that.position().left + parseInt(that.css("marginLeft")) + (_other ? 0 : that.outerWidth() - $(".wc__chatTapMenu").outerWidth()),
						top: that.position().top - $(".wc__chatTapMenu").outerHeight() - 8
					});
				}
			});
			// ...é”€æ¯é•¿æŒ‰å¼¹çª—
			$(".wc__chatMsg-panel").on("scroll", function(){
				$(".wc__chatTapMenu").hide();
				$(this).find("li .msg").removeClass("taped");
			});
		});
	</script>
	
</body>
</html>
